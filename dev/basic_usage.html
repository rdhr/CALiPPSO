<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic usage · CALiPPSO</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">CALiPPSO</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><a class="tocitem" href="theory.html">Introduction: theory and few details</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="installation.html">Installation</a></li><li class="is-active"><a class="tocitem" href="basic_usage.html">Basic usage</a><ul class="internal"><li><a class="tocitem" href="#The-main-function:-produce_jammed_configuration!"><span>The main function: <code>produce_jammed_configuration!</code></span></a></li><li><a class="tocitem" href="#Understanding-the-output-printed-in-screen/IO"><span>Understanding the output printed in screen/IO</span></a></li><li><a class="tocitem" href="#Some-other-features"><span>Some other features</span></a></li><li><a class="tocitem" href="#Getting-help"><span>Getting help</span></a></li></ul></li><li><a class="tocitem" href="mainfunction.html">How the main function works</a></li><li><a class="tocitem" href="changing_default.html">Changing the default behaviour</a></li></ul></li><li><a class="tocitem" href="tests.html">Examples</a></li><li><a class="tocitem" href="types.html"><code>Structs</code> of CALiPPSO</a></li><li><a class="tocitem" href="issues.html">Problem solving and possible issues</a></li><li><a class="tocitem" href="todos.html">To Do&#39;s</a></li><li><a class="tocitem" href="api.html">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href="basic_usage.html">Basic usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="basic_usage.html">Basic usage</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rdhr/CALiPPSO.jl/blob/master/docs/src/basic_usage.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Basic-usage"><a class="docs-heading-anchor" href="#Basic-usage">Basic usage</a><a id="Basic-usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-usage" title="Permalink"></a></h1><h2 id="The-main-function:-produce_jammed_configuration!"><a class="docs-heading-anchor" href="#The-main-function:-produce_jammed_configuration!">The main function: <code>produce_jammed_configuration!</code></a><a id="The-main-function:-produce_jammed_configuration!-1"></a><a class="docs-heading-anchor-permalink" href="#The-main-function:-produce_jammed_configuration!" title="Permalink"></a></h2><p>We tried to make this package as easy to use as possible and, indeed, it consists of <em>a single</em> main function: <a href="api.html#CALiPPSO.produce_jammed_configuration!"><code>produce_jammed_configuration!</code></a>. This function is defined in the <code>CALiPPSO</code> module defined in the <code>src/CALiPPSO.jl</code> file. In any case, <a href="installation.html#Installation">once CALiPPSO has been installed</a>,  <code>produce_jammed_configuration!</code> is imported into your scope simply by including the following line to your script, REPL, Jupyter Notebook, etc.:</p><pre><code class="language-julia hljs">using CALiPPSO  </code></pre><p>In this way, <a href="api.html#CALiPPSO.produce_jammed_configuration!"><code>produce_jammed_configuration!</code></a> as well as <a href="api.html#Main-Exported-Functions">other functions and <code>struct</code>&#39;s will be loaded</a> into your environment. The additional functions that are exported when loading <code>CALiPPSO</code> (such as <a href="api.html#CALiPPSO.network_of_contacts"><code>network_of_contacts</code></a>, <a href="api.html#CALiPPSO.check_for_overlaps"><code>check_for_overlaps</code></a>, <a href="api.html#CALiPPSO.get_non_rattlers"><code>get_non_rattlers</code></a>, etc.) are <em>not</em> needed for a basic usage, but might be useful for analysing the packings produced by the main function. </p><p>Once <code>CALiPPSO</code> has been loaded, you just need to call (the usage of <code>precompile_main_function</code> is explained short below)</p><pre><code class="language-julia hljs">precompile_main_function() #optional, but highly recommended. This will produce a colorful output that you can safely ignore
packing, info, Γ_vs_t, Smax_vs_t, isostatic_vs_t = produce_jammed_configuration!(Xs, R, L)</code></pre><p>Naturally, this function should generate a jammed packing from an initial (monodisperse) configuration of particles with positions <code>Xs</code>, radius <code>R</code>, and contained in a periodic (hyper-) cube of size <code>L</code> (if this argument is left unspecified, it&#39;s assumed its value is 1). <code>Xs</code> should be a <code>Matrix{Float64}</code> of size <span>$d\times N$</span>, thus specifying the position of each particle (<em>i.e.</em> each of the <span>$N$</span> columns is the <span>$d$</span>-dimensional position vector of a particle). Clearly, this matrix can be constructed from importing data from a <code>csv</code> or <code>dat</code> file (or any other suitable file format for that matter).</p><p>Alternatively, <code>Xs</code> might be an array of <span>$N$</span> <code>StaticVector</code>s, each of size <span>$d$</span> and elements of <a href="api.html#CALiPPSO.PeriodicNumber"><code>PeriodicNumber</code></a> type <a href="types.html#types">(see here for the dedicated section on types)</a>. In such case, <code>L</code> should be omitted when calling <a href="api.html#CALiPPSO.produce_jammed_configuration!"><code>produce_jammed_configuration!</code></a>, because its value  automatically inferred from the corresponding field of <code>PeriodicNumber</code>. For convenience, if <code>Xs</code> is a matrix of <code>Float64</code> elements (<em>i.e.</em> a <code>Matrix{Float64}</code> type), it can be easily converted to an array of <code>StaticVector</code>s with <code>PeriodicNumber</code> elements using the <code>PeriodicVectors</code> function. Thus, the analogous version of the code above reads</p><pre><code class="language-julia hljs">Xs = PeriodicVectors(Xs, L)
packing, info, Γ_vs_t, Smax_vs_t, isostatic_vs_t = produce_jammed_configuration!(Xs, R)</code></pre><p>Note that here we are making use of the <a href="https://docs.julialang.org/en/v1/manual/methods/#Methods">method dispatch feature</a> of Julia.</p><p>Of course, these last examples assume  that you are already given a valid configuration that can be used as initial condition. If this is not the case, or  you want to use a random, low-density initial configuration as input to CALiPPSO, you can use <a href="api.html#CALiPPSO.generate_random_configuration"><code>generate_random_configuration</code></a>, which is also loaded when importing CALiPPSO. Thus a MWE would be the following</p><pre><code class="language-julia hljs">using CALiPPSO  
precompile_main_function() #optional, but highly recommended. This will produce a colorful output that you can safely ignore
using Random
Random.seed!(123) # optional, but just for reproducibility sake of this MWE
# Choosing the seed of the Julia&#39;s RNG determines the random IC produces below with `generate_random_configuration`

const d, N, φ0, L = 3, 512, 0.3, 1.0
R, Xs = generate_random_configuration(d, N, φ0, L) # if L is not passed, it&#39;s assumed that the systems is in a box of size 1

packing, info, Γ_vs_t, Smax_vs_t, isostatic_vs_t = produce_jammed_configuration!(Xs, R; 
            ℓ0=0.3*L, non_iso_break=50, max_iters=500)</code></pre><div class="admonition is-info"><header class="admonition-header">Precompilation</header><div class="admonition-body"><p><code>precompile_main_function()</code> calls <code>produce_jammed_configuration!</code> on a small, predefined system. (It will also produce a colorful output that you can safely ignore.) Thus, the main function will be already <em>pre</em>-compiled and ready to use in larger and more demanding systems.</p><p>Calling <code>precompile_main_function()</code> is optional, but strongly suggested if you want to use CALiPPSO for producing jammed packings (<em>i.e.</em> if at any point you call <code>produce_jammed_configuration!</code>). However, it you only use CALiPPSO for analysing packings previously produced there&#39;s no need for precompiling.</p><p>The reason why precompilation is suggested is that model creation and optimization in JuMP suffers from a <a href="https://jump.dev/JuMP.jl/stable/tutorials/getting_started/performance_tips/#The-%22time-to-first-solve%22-issue">&quot;time-to-first-solve&quot; issue</a>, which is an analogous version of the &quot;time-to-first-plot&quot; one. Essentially, when a function is first called, it needs to be compiled. (This is actually the general behaviour of Julia, not only of JuMP.) Thus, by calling <code>produce_jammed_configuration!</code> in a small system, the function gets pre-compiled and ready to be used in much larger systems. If <code>precompile_main_function()</code> is not called, and <code>produce_jammed_configuration!</code> is used directly in the (presumably large) configuration you want to jam, it will take much longer.</p></div></div><h3 id="Output"><a class="docs-heading-anchor" href="#Output">Output</a><a id="Output-1"></a><a class="docs-heading-anchor-permalink" href="#Output" title="Permalink"></a></h3><p>Using the variables introduced in the snippets above, the output of <code>produce_jammed_configuration!</code> is the following:</p><ol><li><code>packing</code>: A jammed packing (provided convergence was attained) stored as a <a href="api.html#CALiPPSO.MonoPacking"><code>MonoPacking</code></a> object (actually a <a href="https://docs.julialang.org/en/v1/manual/types/#Composite-Types"><code>struct</code></a>). <ul><li>This object contains an array of the <span>$N$</span> particles in the packing.<ul><li>Each particle is stored as a <a href="api.html#CALiPPSO.MonoParticle"><code>MonoParticle</code></a> object that contains: (i) the position of the centre; (ii) the list of all contact vectors; (iii) the list of contact forces magnitudes; and (iv) the list of neighbours in contact.</li></ul></li><li>The radius of all the (hyper-) spheres in the packing.</li><li>Information of whether (i) the packing satisfies mechanical equilibrium (stored as a boolean in the <code>mechanical_equilibrium</code> field), and (ii) whether the packings reached jamming or not (also as a boolean specified using the <code>jammed</code> field).</li></ul></li><li><code>info</code>: Information about the process and termination status of CALiPPSO, <em>e.g.</em>, number of iterations, the time and amount of memory allocated during the full process, list of times of each LP optimization, etc. All of this is stored using a <a href="api.html#CALiPPSO.convergence_info"><code>convergence_info</code></a> <code>struct</code>.</li><li><code>Γ_vs_t</code>: The list of values of <span>$\sqrt{\Gamma^\star}$</span> obtained after each iteration; see <a href="theory.html#Theory-behind-CALiPPSO">the theory section</a> for more information.</li><li><code>Smax_vs_t</code>: The list of values of <span>$\max_{i,\mu} \{s_{i,\mu}^\star\}_{i=1,\dots,N}^{\mu=1,\dots,d}$</span> obtained after each iteration; see <a href="theory.html#Theory-behind-CALiPPSO">the theory section</a> for more information.</li><li><code>isostatic_vs_t</code>: An analogous list that specifies (with boolean variables) if isostaticity holds at after each iteration.</li></ol><p>With its <a href="changing_default.html#list-defaults">default parameters</a> and assuming you&#39;re using Gurobi, <a href="api.html#CALiPPSO.produce_jammed_configuration!"><code>produce_jammed_configuration!</code></a> should work in most of the cases with <span>$d&gt;2$</span> (at least we didn&#39;t experienced any error in the <a href="tests.html#Tests-and-examples-provided">tests</a> we ran), specially when <span>$p&gt;1000$</span> (<em>i.e.</em> for high pressures, or <span>$\varphi_0\lesssim \varphi_J$</span>). </p><div class="admonition is-success"><header class="admonition-header">Initial condition at low pressure</header><div class="admonition-body"><p>If the input configuration is not sufficiently compressed, a simple fix is to increase the cutoff distance used to build the neighbours-list, <span>$\ell$</span>. This parameter is conveniently fixed using <a href="changing_default.html#kwargs-control">a keyword argument</a>, namely, <code>ℓ0</code>. For instance, try</p><pre><code class="language-julia hljs">produce_jammed_configuration!(Xs, R, L; ℓ0=0.2*L)</code></pre><p>Of course, you should choose the initial value of <span>$\ell$</span>, here specified by <code>ℓ0</code>, taking into account the initial size of your particles and initial density of the system.  See section about <a href="theory.html#The-initial-conditions">The initial conditions</a> for more information about how to choose the initial configuration of CALiPPSO.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Check the packing produced by `produce_jammed_configuration!`</header><div class="admonition-body"><p>In general situations, however, be warned that even if <a href="api.html#CALiPPSO.produce_jammed_configuration!"><code>produce_jammed_configuration!</code></a> terminates without throwing any error, it may happen that the output is <em>not</em> a jammed packing. For instance, it might be the case that the function terminated because the maximal number of iterations was reached, or too many consecutive non-isostatic configurations were obtained (you can tune these and several other parameters using keyword arguments, as we explain in detail in the <a href="changing_default.html#kwargs-control">dedicated section</a>). </p><p>This problematic situation is much likelier when <span>$\varphi_0 \ll \varphi_J$</span>. We also observe that it may also occur using <a href="changing_default.html#changing_the_solver">other solvers</a> instead of Gurobi.</p><p>Therefore, be sure to verify that the <code>mechanical_equilibrium</code> and <code>jammed</code> fields of the <a href="api.html#CALiPPSO.MonoPacking"><code>MonoPacking</code></a> obtained are both <code>true</code>.</p></div></div><p>Finally, <a href="tests.html#Tests-and-examples-provided">see this section</a> for some examples/tests of its usage and <a href="changing_default.html#kwargs-control">the section on keyword arguments</a> to fine tune the behaviour of <code>produce_jammed_configuration!</code> to better suit your needs.</p><h2 id="Understanding-the-output-printed-in-screen/IO"><a class="docs-heading-anchor" href="#Understanding-the-output-printed-in-screen/IO">Understanding the output printed in screen/IO</a><a id="Understanding-the-output-printed-in-screen/IO-1"></a><a class="docs-heading-anchor-permalink" href="#Understanding-the-output-printed-in-screen/IO" title="Permalink"></a></h2><p>What follows assumes that the optional argument <code>verbose</code> is set to <code>true</code> when calling <code>produce_jammed_configuration!</code>; this is the default behaviour. Besides, if Julia is executed with the <code>color</code> flag and the IO supports it, the screen output is colorized and formatted to improve readability.</p><h3 id="output-process"><a class="docs-heading-anchor" href="#output-process">Output while <code>produce_jammed_configuration!</code> is being executed</a><a id="output-process-1"></a><a class="docs-heading-anchor-permalink" href="#output-process" title="Permalink"></a></h3><p>When <a href="api.html#CALiPPSO.produce_jammed_configuration!"><code>produce_jammed_configuration!</code></a> is running every few iterations an output as the following one will be printed in the IO. (See <a href="changing_default.html#Kwargs-for-controlling-output-printing-on-terminal">here</a> for information about how often such output appears and how to change it.)</p><pre><code class="nohighlight hljs">L1: Iteration: 3
L2: LP instance generated with (ℓ, ℓ/R) = [0.056951385144839745, 2.7]	 and bound on (|s_i|, |s_i|/R) = [0.00021093105609199902, 0.01]
L3: Status: OPTIMAL; 	 time solve LP instance (s) = 246.3279
L4: 	 Optimal values: 	 √Γ-1 = 2.4037438706159264e-11,	 max |sᵢ| (all particles) = 0.0002109310561
L5: 	 Max |sᵢ| (stable particles) = 1.0872115e-6
L6: New  values of (φ, R) = [0.644065639, 0.021093106]
L7: (Max, mean±std) constraints per particle per d: [15.0, 6.26, 3.93]	 Isostatic: true	 (Mean, Max, total in rattlers) z = [5.99975, 10.0, 0.0]	Non_rattlers= 16014
L8: ----------------------------------
L9: Force mismatch = 1.2233477227728374e-13
L10: Sample of smallest forces = 	[7.760517298819059e-7, 2.234495573171305e-6, 2.6928245176732605e-6, 2.7135404241734017e-6, 2.9159812742335627e-6, 3.1959098781771576e-6, 3.49862463912623e-6, 4.6744303036469655e-6, 7.2161329676828645e-6, 1.0484921226842317e-5]</code></pre><p><strong>Note:</strong> The line numbers (on the left) are only included here for reference, but are not printed.</p><p>The contents are:</p><ul><li><p>Line 1: The number of CALiPPSO iteration (i.e. how many LP optimizations have been carried out).</p></li><li><p>Lines 2-4: Some information about how the LP instance (Eq. (2) in the <a href="theory.html#Theory-behind-CALiPPSO">Theory-behind-CALiPPSO</a> section) was generated. This output is actually produced when calling <a href="api.html#CALiPPSO.solve_LP_instance"><code>solve_LP_instance</code></a> in the <a href="mainfunction.html#mainloop">main loop</a> of <code>produce_jammed_configuration!</code>. More specifically:</p><ul><li><p>Line 2: Values of <span>$\ell$</span> and bound on the displacements, <span>$s_{bound}$</span>, and their comparison with the particles&#39; radius, <code>R</code>. Note that the value of <code>R</code> is taken from the previous iteration, <em>i.e.</em> the one used to formulate the LP instance.</p></li><li><p>Line 3: Status of the solution of the LP problem obtained with the solver chosen, and time (in seconds) required to solve such problem. The status informs on whether the LP instance was solved to optimality or not. In other words, it the optimizer converged to a solution. </p><p>One reason optimality might not be attained, for instance, is that the iteration or time limits of a given solver are reached. Besides, depending on which solver you are using, you can also get information about the infeasibility of the problem, presence of duality gap, etc.</p></li><li><p>Line 4: The optimal value of the inflation factor, <span>$\Gamma^\star$</span> (actually <span>$\sqrt{\Gamma^\star}-1$</span>), and the largest magnitude of the optimal displacements, <span>$\max \{ | \mathbf{s}_i^\star|\}_{i=1}^N$</span>. </p><p><strong>Note:</strong> when computing this second quantity, <em>all</em> the particles are considered. Thus, it is very likely that the value reported correspond to <span>$|\mathbf{s}^\star|$</span> of <strong>a rattler</strong>. Because this particles are mostly unconstrained by their neighbours, specially during the first iterations, their value of <span>$|\mathbf{s}^\star|$</span> might <em>saturate</em> <code>s_{bound}</code>. Indeed, compare these two values in the example output above.</p></li></ul></li><li><p>Line 5: Largest magnitude of optimal displacements, bot now <em>only stable particles</em> are considered.</p></li><li><p>Line 6: Values of the packing fraction, <span>$\varphi$</span>, and particles&#39; radius <span>$R$</span>, updated after <span>$\Gamma^\star$</span> has been found.</p></li><li><p>Line 7: </p><ul><li>Statistics (maximum value, mean and standard deviation) of the number of constraints induced per particle.</li><li>Whether the solution of the LP instance yielded an isostatic configuration or not.</li><li>Mean and maximum number of (possibly <em>linear</em>) contacts in stable particles; as well as the total number of contacts associated to rattlers.</li><li>Amount of <em>non</em>-rattlers.</li></ul></li><li><p>Line 8: separator</p></li><li><p>Line 9: The mismatch of the force balance condition, measured as the largest total force vector. That is, the sum of forces acting on each particle is computed for all of them, and the reported value is the vector of largest magnitude.</p></li><li><p>Line 10: Sample of the 10 smallest forces magnitudes present in the configuration. (Note that before convergence is reached, these are not true <em>contact</em> forces.)</p></li></ul><p>Lines 5-10 are the output of <a href="api.html#CALiPPSO.print_monitor_progress"><code>print_monitor_progress</code></a>, called during the <a href="mainfunction.html#mainloop">main loop</a> of <code>produce_jammed_configuration!</code>, at fixed intervals. Importantly, if <code>verbose=false</code> is passed to <code>produce_jammed_configuration!</code>, <em>none</em> of this output will be printed.</p><p>As explained <a href="issues.html#Possible-issues">later</a>, the information of this output is very useful for problem solving, or at least identifying when an issue arises in a given configuration.</p><h3 id="Output-when-produce_jammed_configuration!-converges"><a class="docs-heading-anchor" href="#Output-when-produce_jammed_configuration!-converges">Output when <code>produce_jammed_configuration!</code> converges</a><a id="Output-when-produce_jammed_configuration!-converges-1"></a><a class="docs-heading-anchor-permalink" href="#Output-when-produce_jammed_configuration!-converges" title="Permalink"></a></h3><p>When <code>produce_jammed_configuration!</code> terminates, because the convergence criteria are met, the following output is given.</p><pre><code class="nohighlight hljs">L1:	    CALiPPSO converged!
L2: Iterations to convergence = 61,	√Γ-1 = -2.4424906541753444e-15,	 Max displacement = 4.5795e-11,	 (ϕ, R) = [0.64414472, 0.02109397]
L3: 	Non_rattlers= 16000	% of rattlers = 2.344	(Max, mean±std) constraints per particle per d: [15.0, 6.26, 3.94]
L4: ┌ Warning: Force balance condition is NOT satisfied! Max force mismatch = 3.714346582469644e-12 ; 	Creating the packing anyway.
L5: └ @ Main &lt;path-to-CALiPPSO-source-folder&gt;/Packing.jl:185
L6:
L7: Force balance condition not met yet; max force mismatch = 3.714346582469644e-12
L8: Performing a last LP optimization to improve force balance.
L9: LP instance generated with (ℓ, ℓ/R) = [0.056953715966077116, 2.7]	 and UNbounded displacements
L10: Max optimal displacement = 3.515092848501867e-10	 √Γ-1 = 7.327471962526033e-15
L11: Force mismatch after final optimization = 2.3502518894751413e-13
L12:
L13:
L14: Isostaticity achieved: true	 Non-rattlers = 16000	% of rattlers = 2.344	N_contacts = 47998.0	 z in rattlers = 0
L15: Maximum force equilibrium mismatch = 2.3502518894751413e-13
L16: Time to finish = 299.49 minutes;	 Memory allocated (GB): 293.17
L17: Checking for overlaps after convergence...
L18: No overlaps found! :D</code></pre><p><strong>Note:</strong> The line numbers (on the left) are only included here for reference, but are not printed.</p><p>Lines 1-3, and 17-18 are always printed (because <a href="api.html#CALiPPSO.print_converged"><code>print_converged</code></a> and <a href="api.html#CALiPPSO.check_for_overlaps"><code>check_for_overlaps</code></a> are always called), while the rest of the text is only provided if <code>verbose=true</code> is used as argument of the main function. They contain the following information:</p><ul><li>Line 1: Text indicating that CALiPPSO did converge.</li><li>Line 2: Information about convergence; specifically:<ul><li>Number of LP optimizations required for convergence</li><li>Values of <span>$\sqrt{\Gamma^\star}-1$</span> and <span>$\max \{ | \mathbf{s}_i^\star|\}_{i=1}^N$</span> (only of <em>stable</em> particles) obtained in the last iteration. These values are important because they define the convergence criteria of <code>produce_jammed_configuration!</code>.</li><li>Final values of the packing fraction and radius, <span>$\varphi$</span> and <span>$R$</span>.</li></ul></li><li>Line 3: Amount of non-rattlers (<em>i.e.</em> stable particles) and their percentage out of <span>$N$</span>. Besides, provides the same statistics of the constraints per particle <a href="basic_usage.html#output-process">as Line 7 above</a>.</li><li>Lines 4-13: These lines are not present in general. Instead, they will only be printed if mechanical equilibrium of the final configuration is <em>not</em> met (or is satisfied with a very low accuracy).<ul><li>By far the most common reason this happens is because the bounds imposed on <span>${|\mathbf{s}_i|}_{i=1}^N$</span>, when calling <a href="api.html#CALiPPSO.solve_LP_instance"><code>solve_LP_instance</code></a>. As we explain in our paper, a simple solution is to use such final configuration to generate a final LP instance and solve it, <em>without</em> any bounds on the displacements. Thus,</li><li>Lines 4-5: A <a href="https://docs.julialang.org/en/v1/stdlib/Logging/">warning</a> thrown by the <a href="api.html#CALiPPSO.MonoPacking"><code>MonoPacking</code></a> <a href="api.html#Constructors"><em>constructor</em></a> when creating the packing. They indicate, precisely, that the force balance condition is not met and give the maximal violation to it.</li><li>Lines 7-11: The result of solving final LP instance to attain force balance with a higher accuracy. They print some info, such as the new values of <span>$\Gamma^\star$</span>,  <span>$\max \{ | \mathbf{s}_i^\star|\}_{i=1}^N$</span>, new value of force balance mismatch, etc. They are printed when <a href="api.html#CALiPPSO.fine_tune_forces!"><code>fine_tune_forces!</code></a> is called. More details about this can be found in the documentation about <a href="mainfunction.html#Creating-the-final-packing">Creating the final packing</a>.</li></ul></li><li>Lines 14-16: They provide some extra information about the packing obtained after convergence, such as whether isostaticity was reached or not; number of contacts, etc. They are printed through <a href="api.html#CALiPPSO.print_info_convergence"><code>print_info_convergence</code></a></li><li>Lines 17-18: Check for overlaps in the final packing; printed when calling <a href="api.html#CALiPPSO.check_for_overlaps"><code>check_for_overlaps</code></a>.</li></ul><div class="admonition is-warning"><header class="admonition-header">Mechanical equilibrium not satisfied</header><div class="admonition-body"><p>As mentioned above when explaining Lines 4-13, the likeliest reason a packing that fails to satisfy mechanical equilibrium is small mismatch (about <span>$10^{-10}$</span> or smaller) in foce balance. However, it may also happen that a configuration indeed fails to fulfil force balance due to a poor solution of an LP instance. When this is the case, the error is much bigger (about <span>$10^{-2}$</span>or even larger) and even calling <code>fine_tune_forces!</code> is not enough to correct for it. In fact, in this situation, force balance is violated at many iterations and not only the last one. (See Lines 9-10 of <a href="basic_usage.html#output-process">the previous section</a>.)</p><p>As described in the <a href="issues.html#Problem-solving">Problem solving</a> section, there are a variety of reason why this may happen. But the most probable one, at least according to our experience, is that the optimizer used lacks the precision to solve the linear optimization problems.</p></div></div><h3 id="Output-when-produce_jammed_configuration!-*fails*-to-converge"><a class="docs-heading-anchor" href="#Output-when-produce_jammed_configuration!-*fails*-to-converge">Output when <code>produce_jammed_configuration!</code> <em>fails</em> to converge</a><a id="Output-when-produce_jammed_configuration!-*fails*-to-converge-1"></a><a class="docs-heading-anchor-permalink" href="#Output-when-produce_jammed_configuration!-*fails*-to-converge" title="Permalink"></a></h3><p>TO BE ADDED</p><h2 id="Some-other-features"><a class="docs-heading-anchor" href="#Some-other-features">Some other features</a><a id="Some-other-features-1"></a><a class="docs-heading-anchor-permalink" href="#Some-other-features" title="Permalink"></a></h2><ul><li><p>The dimensionality of the system is inferred from <code>Xs</code> and the periodic boundary conditions are automatically implemented through the usage of <a href="api.html#CALiPPSO.PeriodicNumber"><code>PeriodicNumber</code></a>. Of course: <strong>no overlap should be present in the initial configuration</strong> for CALiPPSO to run properly. </p></li><li><p>You can (or at least should be able to) use as input any valid hard-sphere configuration generated from your favourite method (for instance, the Lubachevsky─Stillinger (LS) compression protocol as described <a href="theory.html#The-initial-conditions">before</a>).</p></li><li><p>Alternatively, you can also use the function <a href="api.html#CALiPPSO.generate_random_configuration"><code>generate_random_configuration</code></a><code>(d, N, ϕ, [L])</code> provided here to generate a random <em>low-density</em> initial configuration of <code>N</code> particles in <code>d</code> dimensions with density <code>ϕ</code>. See however <a href="theory.html#The-initial-conditions">the possible caveat</a> of initializing CALiPPSO with a configuration of low density (*i.e. far from jamming).</p></li><li><p>As CALiPPSO progresses, checks of the absence of overlaps are implemented automatically in the main function.</p></li><li><p>Stability and force balance checks are implemented. They are useful to track possible numerical issues after each of the LP optimizations are carried out; the details are given <a href="basic_usage.html#output-process">above</a> and how to solve numerical issues is discussed <a href="issues.html#Problem-solving">here</a>.</p></li><li><p>The cutoff or radius of influence, <span>$\ell$</span>, is automatically adjusted in such a way that only nearby pairs of particles are considered when building the set of non-overlapping constraints.</p></li><li><p>The behaviour and other parameters of the main function can be easily controlled through <a href="changing_default.html#kwargs-control">keyword arguments</a>.</p></li></ul><h2 id="Getting-help"><a class="docs-heading-anchor" href="#Getting-help">Getting help</a><a id="Getting-help-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-help" title="Permalink"></a></h2><p>We tried our best to provide complete <em>docstrings</em> of all the functions defined in this package. So most of the information should be available simply by calling the respective documentation (<em>i.e.</em> just by typing &#39;?&#39;). For instance, try typing <code>?produce_jammed_configuration!</code> in the REPL or in a Jupyter notebook for a detailed description of this function. </p><p>We also tried to leave clarifying comments throughout the code, so its functioning is easier to understand.</p><p>If you find a problem (<em>e.g.</em> lack of convergence of the main function, low precision, non-isostaticity of the packings), please consult the <a href="issues.html#Problem-solving">Problem solving</a> section.</p><p>Still there is something confusing ot not clear enough? Found a bug or an issue? Please <a href="mailto:rafael.diazhernandezrojas@uniroma1.it">drop us an email</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="installation.html">« Installation</a><a class="docs-footer-nextpage" href="mainfunction.html">How the main function works »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Tuesday 29 March 2022 15:08">Tuesday 29 March 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
